<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAISS Lab | Networked AI Systems and Security Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F5F2;
            color: #024638;
        }
        .nav-link {
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #024638;
            border-bottom-color: #024638;
        }
        .hero-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://placehold.co/1920x1080/334155/E2E8F0?text=ML+Systems,+Networking,+Security');
            background-size: cover;
            background-position: center;
        }
        .section-title {
            border-bottom: 3px solid #024638;
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        .research-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .research-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .tag {
            background-color: #E8E2DD;
            color: #024638;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .publication-link {
            color: #024638;
            font-weight: 600;
            transition: opacity 0.2s;
        }
        .publication-link:hover {
            opacity: 0.8;
        }
        .btn-primary {
            background-color: #024638;
            color: white;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #EA634A;
        }
        .filter-btn {
            border: 1px solid #E8E2DD;
            transition: background-color 0.2s, color 0.2s;
        }
        .filter-btn.active, .filter-btn:hover {
            background-color: #024638;
            color: white;
            border-color: #024638;
        }
    </style>
</head>
<body class="antialiased">

    <header id="header" class="bg-white/80 backdrop-blur-md fixed top-0 left-0 right-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="#home" class="text-xl font-bold text-gray-800">NAISS Lab</a>
                </div>
                <div class="hidden md:block">
                    <nav class="ml-10 flex items-baseline space-x-4">
                        <a href="#about" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">About</a>
                        <a href="#research" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Research</a>
                        <a href="#people" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">People</a>
                        <a href="#publications" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">Publications</a>
                        <a href="#news" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-700">News</a>
                    </nav>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button id="mobile-menu-button" type="button" class="bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-amber-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#about" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">About</a>
                <a href="#research" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">Research</a>
                <a href="#people" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">People</a>
                <a href="#publications" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">Publications</a>
                <a href="#news" class="block nav-link px-3 py-2 rounded-md text-base font-medium text-gray-700">News</a>
            </div>
        </div>
    </header>

    <main>
        <section id="home" class="hero-bg pt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32 text-center text-white">
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight">
                    <span class="block">Networked AI Systems and Security Lab</span>
                    <span class="block text-amber-300 text-3xl md:text-5xl mt-2">NAISS Lab</span>
                </h1>
                <p class="mt-6 max-w-3xl mx-auto text-lg md:text-xl text-gray-200">
                    Developing the next generation of intelligent systems to ensure our networked world is accessible, reliable, and secure.
                </p>
            </div>
        </section>

        <section id="about" class="py-20 sm:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="section-title text-3xl font-bold tracking-tight sm:text-4xl">Our Mission</h2>
                    <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
                        The NAISS (pronounced as "nice") Lab in the department of DASE at The University of Hong Kong operates at the critical intersection of Machine Learning Systems, Computer Networking, and Security. Our research follows a virtuous cycle: we build foundational ML systems and techniques, apply them to secure our critical network infrastructure, and extend them to improve interactions and well-beings with the cyber-physical world. You can contact us at shinan6@hku.hk.
                    </p>
                </div>
            </div>
        </section>

        <section id="research" class="py-20 sm:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="section-title text-3xl font-bold tracking-tight sm:text-4xl">Research Directions</h2>
                    <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
                        Our work is organized into three synergistic research thrusts. Click on each area to explore further.
                    </p>
                </div>
                <div id="research-container" class="mt-16 grid md:grid-cols-3 gap-8">
                    </div>
            </div>
        </section>

        <section id="people" class="py-20 sm:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="section-title text-3xl font-bold tracking-tight sm:text-4xl">Our Team</h2>
                    <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
                        Meet the researchers and students driving innovation at the NAISS Lab.
                    </p>
                </div>
                <div class="mt-8 flex justify-center flex-wrap gap-2" id="people-filter-controls">
                    </div>
                <div id="people-container" class="mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                    </div>
            </div>
        </section>

        <section id="publications" class="py-20 sm:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="section-title text-3xl font-bold tracking-tight sm:text-4xl">Publications</h2>
                    <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-600">
                        A selection of our scholarly output. 
                    </p>
                </div>
                <div class="mt-8 max-w-2xl mx-auto flex flex-col sm:flex-row gap-4">
                    <select id="pub-year-filter" class="w-full sm:w-1/2 p-2 border border-gray-300 rounded-md bg-white">
                        <option value="all">All Years</option>
                    </select>
                    <select id="pub-area-filter" class="w-full sm:w-1/2 p-2 border border-gray-300 rounded-md bg-white">
                        <option value="all">All Research Areas</option>
                    </select>
                </div>
                <div id="publications-container" class="mt-12 space-y-8 max-w-4xl mx-auto">
                    </div>
            </div>
        </section>

        <section id="news" class="py-20 sm:py-24 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="section-title text-3xl font-bold tracking-tight sm:text-4xl">Latest News</h2>
                </div>
                <div id="news-container" class="mt-16 max-w-3xl mx-auto space-y-8">
                    </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2025 Networked AI Systems and Security (NAISS) Lab</p>
            <p class="text-sm text-gray-400 mt-2">The University of Hong Kong</p>
        </div>
    </footer>

    <script src="data/research.js"></script>
    <script src="data/people.js"></script>
    <script src="data/publication.js"></script>
    <script src="data/news.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Data is now loaded from the external files above.
            // The large data arrays have been removed from this file.

            // Render Functions
            function renderResearch() {
                const container = document.getElementById('research-container');
                if(!container) return;
                container.innerHTML = researchData.map(item => `
                    <div class="research-card bg-white p-8 rounded-lg shadow-md cursor-pointer" data-id="${item.id}">
                        <div class="text-4xl">${item.icon}</div>
                        <h3 class="mt-4 text-xl font-bold">${item.title}</h3>
                        <p class="mt-2 text-gray-600">${item.description}</p>
                        <div id="subtopics-${item.id}" class="hidden mt-4 pl-4 border-l-2 border-amber-200">
                            <ul class="list-disc list-inside text-gray-600 space-y-1">
                                ${item.subtopics.map(sub => `<li>${sub}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `).join('');
            }

            function renderPeople(filter = 'all') {
                const container = document.getElementById('people-container');
                 if(!container) return;
                const director = peopleData.find(p => p.role === 'Faculty');
                const others = peopleData.filter(p => p.role !== 'Faculty');
                 
                let filteredPeople = others;
                if (filter !== 'all') {
                    filteredPeople = others.filter(p => p.role.toLowerCase().replace(/\./g, '') === filter.toLowerCase().replace(/\./g, ''));
                }

                const directorNameHtml = director.website
                    ? `<a href="${director.website}" target="_blank" rel="noopener noreferrer" class="hover:underline">${director.firstName} ${director.lastName}</a>`
                    : `${director.firstName} ${director.lastName}`;

                const directorHtml = `
                    <div class="sm:col-span-2 lg:col-span-3 xl:col-span-4 mb-8">
                        <div class="flex flex-col sm:flex-row items-center bg-stone-50 rounded-lg shadow-sm p-6">
                            <img src="${director.photo}" alt="${director.firstName} ${director.lastName}" class="w-32 h-32 rounded-full object-cover flex-shrink-0">
                            <div class="sm:ml-6 mt-4 sm:mt-0 text-center sm:text-left">
                                <h3 class="text-xl font-bold">${directorNameHtml}</h3>
                                <p class="text-amber-700 font-semibold">${director.status}</p>
                                <p class="text-gray-600">${director.education}</p>
                            </div>
                        </div>
                    </div>
                `;

                container.innerHTML = directorHtml + filteredPeople.map(person => {
                    const personNameHtml = person.website
                        ? `<a href="${person.website}" target="_blank" rel="noopener noreferrer" class="hover:underline">${person.firstName} ${person.lastName}</a>`
                        : `${person.firstName} ${person.lastName}`;
                    
                    return `
                    <div class="person-card text-center bg-stone-50 p-6 rounded-lg shadow-sm" data-role="${person.role}">
                        <img src="${person.photo}" alt="${person.firstName} ${person.lastName}" class="w-24 h-24 rounded-full mx-auto object-cover">
                        <h3 class="mt-4 font-bold text-lg">${personNameHtml}</h3>
                        <p class="text-amber-700 font-semibold">${person.role}</p>
                        <p class="text-gray-500 text-sm">${person.status}</p>
                        <p class="text-gray-500 text-sm">${person.education}</p>
                    </div>
                    `
                }).join('');
            }

            function renderPeopleFilters() {
                const controlsContainer = document.getElementById('people-filter-controls');
                 if(!controlsContainer) return;
                const roles = ['All', 'Postdoc Scholar', 'Ph.D. Student', 'MPhil Student', 'Intern'];
                controlsContainer.innerHTML = roles.map((role, index) => `
                    <button class="filter-btn px-4 py-1 rounded-full text-sm ${index === 0 ? 'active' : ''}" data-filter="${role.toLowerCase().replace(/\./g, '')}">${role}</button>
                `).join('');
            }

            function renderPublications(yearFilter = 'all', areaFilter = 'all') {
                const container = document.getElementById('publications-container');
                 if(!container) return;
                const filteredPubs = publicationsData.filter(pub => 
                    (yearFilter === 'all' || pub.year == yearFilter) &&
                    (areaFilter === 'all' || pub.area.includes(areaFilter))
                );

                if (filteredPubs.length === 0) {
                    container.innerHTML = `<p class="text-center text-gray-500">No publications match the selected filters.</p>`;
                    return;
                }

                container.innerHTML = filteredPubs.map(pub => `
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        ${pub.award ? `<p class="text-amber-600 font-bold mb-2">🏆 ${pub.award}</p>` : ''}
                        <h3 class="font-bold text-lg">${pub.title}</h3>
                        <p class="text-gray-600 mt-1">${pub.authors}</p>
                        <p class="text-gray-500 italic mt-1">${pub.venue}</p>
                        <div class="mt-3 space-x-4">
                            ${pub.links.pdf ? `<a href="${pub.links.pdf}" class="publication-link" target="_blank" rel="noopener noreferrer">[PDF]</a>` : ''}
                            ${pub.links.website ? `<a href="${pub.links.website}" class="publication-link" target="_blank" rel="noopener noreferrer">[Website]</a>` : ''}
                            ${pub.links.code ? `<a href="${pub.links.code}" class="publication-link" target="_blank" rel="noopener noreferrer">[Code]</a>` : ''}
                            ${pub.links.media ? `<a href="${pub.links.media}" class="publication-link" target="_blank" rel="noopener noreferrer">[Media]</a>` : ''}
                            ${pub.links.slides ? `<a href="${pub.links.slides}" class="publication-link" target="_blank" rel="noopener noreferrer">[Slides]</a>` : ''}
                            ${pub.links.video ? `<a href="${pub.links.video}" class="publication-link" target="_blank" rel="noopener noreferrer">[Video]</a>` : ''}
                            ${pub.links.data ? `<a href="${pub.links.data}" class="publication-link" target="_blank" rel="noopener noreferrer">[Data]</a>` : ''}
                        </div>
                    </div>
                `).join('');
            }
             
            function populatePubFilters() {
                const yearSelect = document.getElementById('pub-year-filter');
                const areaSelect = document.getElementById('pub-area-filter');
                 if(!yearSelect || !areaSelect) return;
                const years = [...new Set(publicationsData.map(p => p.year))].sort((a,b) => b-a);
                years.forEach(year => {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = year;
                    yearSelect.appendChild(option);
                });

                researchData.forEach(area => {
                    const option = document.createElement('option');
                    option.value = area.id;
                    option.textContent = area.title;
                    areaSelect.appendChild(option);
                });
            }

            function renderNews() {
                const container = document.getElementById('news-container');
                 if(!container) return;
                container.innerHTML = newsData.map(item => `
                    <div class="border-l-4 border-amber-300 pl-6">
                        <p class="text-sm font-semibold text-amber-700">${item.date}</p>
                        <h3 class="mt-1 text-xl font-bold">${item.title}</h3>
                        <p class="mt-2 text-gray-600">${item.content}</p>
                    </div>
                `).join('');
            }

            // Event Listeners
            document.getElementById('mobile-menu-button').addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                const button = this;
                const icons = button.querySelectorAll('svg');
                menu.classList.toggle('hidden');
                icons[0].classList.toggle('hidden');
                icons[1].classList.toggle('hidden');
            });
             
            document.querySelectorAll('#mobile-menu a, header nav a').forEach(link => {
                link.addEventListener('click', (e) => {
                    if (link.closest('#mobile-menu')) {
                        document.getElementById('mobile-menu').classList.add('hidden');
                        const icons = document.getElementById('mobile-menu-button').querySelectorAll('svg');
                        icons[0].classList.remove('hidden');
                        icons[1].classList.add('hidden');
                    }
                });
            });

            document.getElementById('research-container').addEventListener('click', function(e) {
                const card = e.target.closest('.research-card');
                if (card) {
                    const subtopicsId = `subtopics-${card.dataset.id}`;
                    const subtopicsEl = document.getElementById(subtopicsId);
                    subtopicsEl.classList.toggle('hidden');
                }
            });

            document.getElementById('people-filter-controls').addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') {
                    document.querySelectorAll('#people-filter-controls .filter-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    renderPeople(e.target.dataset.filter);
                }
            });
             
            document.getElementById('pub-year-filter').addEventListener('change', () => {
                renderPublications(document.getElementById('pub-year-filter').value, document.getElementById('pub-area-filter').value);
            });
             
            document.getElementById('pub-area-filter').addEventListener('change', () => {
                renderPublications(document.getElementById('pub-year-filter').value, document.getElementById('pub-area-filter').value);
            });

            // Active nav link on scroll
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('header nav a.nav-link');
             
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 80) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

            // Initial Render
            renderResearch();
            renderPeopleFilters();
            renderPeople();
            populatePubFilters();
            renderPublications();
            renderNews();
        });
    </script>
</body>
</html>